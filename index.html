<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boost Bot Game</title>
    <script>
        let totalChunks = 0; // Total number of chunks expected
        let receivedChunks = 0; // Count of received chunks
        let levelData = ""; // To store the combined level data

        function receiveData() {
            const params = new URLSearchParams(window.location.search);
            const dataChunk = params.get("data");
            const chunkNumber = parseInt(params.get("chunk"), 10);
            const totalNumber = parseInt(params.get("total"), 10);

            if (dataChunk) {
                // Decode and append the data chunk
                levelData += decodeURIComponent(dataChunk);
                receivedChunks++;

                // Check if we have received all chunks
                if (receivedChunks === totalNumber) {
                    // Display the level data
                    displayLevelData(levelData);
                }
            }
        }

        function displayLevelData(data) {
            document.getElementById("output").textContent = data; // Display the data
            document.getElementById("status").textContent = "Data loaded successfully."; // Status message
            // Optionally create a download button here
        }

        window.onload = function () {
            receiveData(); // Call function to handle incoming data
        };
    </script>
</head>
<body>
    <h1>Boost Bot Game Level Data</h1>
    <div id="status">Loading data...</div>
    <pre id="output"></pre> <!-- Area to display the level data -->
</body>
</html>
